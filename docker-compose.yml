services:
  gastor-api-prd:
    build: .
    container_name: gastor-api-prd
    profiles: ["prd"]
    ports: ["8000:8000"]
    env_file: ["prd.env"]
    networks: ["postgresql_prd_net"]
    volumes:
      - "/DATA/File System/movimientos_fotos:/files/movimientos_fotos"

  gastor-api-dev:
    build: .
    container_name: gastor-api-dev
    profiles: ["dev"]
    ports: ["8001:8000"]
    env_file: ["dev.env"]
    networks: ["postgresql_dev_net"]
    volumes:
      - "/DATA/File System/movimientos_fotos_dev:/files/movimientos_fotos"

networks:
  postgresql_prd_net:
    external: true
    name: postgresql_prd_net
    
  postgresql_dev_net:
    external: true
    name: postgresql_dev_net

x-casaos:
  author: self
  category: self
  hostname: ""
  icon: https://cdn-icons-png.flaticon.com/512/1493/1493169.png
  index: /
  is_uncontrolled: false
  port_map: ""
  scheme: http
  title:
    custom: GastorApp - APIs
